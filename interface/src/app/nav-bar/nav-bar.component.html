<div [ngClass] = "{ 'ui-nav-bar-system': true,'ui-nav-bar-system-retract': retracted }">
  <button mat-button class = "ui-btn-nav-bar-user-menu" [matMenuTriggerFor]="userMenu">
    <span class = "fa fa-user-circle ui-nav-bar-option-user"></span>
  </button>
  <div [ngClass] = "{ 'ui-nav-bar-system-logo': true,'ui-nav-bar-system-logo-retract': retracted }"
    mat-button [matTooltipDisabled] = "!retracted" [matTooltip] = "appComponent.systemName" matTooltipPosition="right">
    <img style = "width:50px; height:50px" src = "../../assets/images/logo.png">
  </div>
  <div *ngIf = "!retracted" class = "ui-nav-bar-system-name">
    {{ appComponent.systemName }}
  </div>
</div>
<div class = "ui-nav-bar-divisor"></div>
<div [ngClass] = "{ 'ui-nav-bar-options': true,'ui-nav-bar-options-retract': retracted }">
  <button *ngFor = "let state of states"
  mat-button [matTooltipDisabled] = "!retracted" [matTooltip] = "state.alias" matTooltipPosition="right"
  (click) = "this.router.navigate([state.name])"
  [ngClass] = "{ 
    'ui-nav-bar-option': true,
    'ui-nav-bar-option-retract': retracted,
    'ui-nav-bar-option-active': currentState$.getValue() === state
  }">
    <span [class] = "state.icon + ' ui-option-icon'"></span>
    <span *ngIf = "!retracted" class = "ui-option-name">{{state.alias}}</span>
  </button>
</div>
<div class = "ui-nav-bar-retract">
    <button mat-button [matTooltip]="(retracted) ? 'Expandir': 'Recolher'" matTooltipPosition="right"
    class = "ui-btn-nav-bar-retract" (click) = "doRetract()">
      <span [ngClass] = "{
        'fas': true,
        'fa-arrow-left': !retracted,
        'fa-arrow-right': retracted
      }"></span>
    </button>
</div>

<mat-menu #userMenu="matMenu">
  <button mat-menu-item (click) = "doLogout()">
    <span class = "fa fa-power-off"></span>
    <span style = "margin-left:10px">Logout</span>
  </button>
</mat-menu>
